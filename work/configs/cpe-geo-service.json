{
  "env": {
    "LINKERD_IP": "127.0.0.1"
  },
  "key": {
    "cfg/svc/geo/loglevel": "debug",
    "cfg/svc/geo/elasticsearch/url": "https://jumpbox-es.us-west-2.es.amazonaws.com:9200",
  }
}


[cache]
  # Buckets allow you to configure distribution across multiple shards.
	buckets              = {{ keyOrDefault "cfg/svc/geo/cache/buckets" "5" }}
  # Amount of time the cache records will remain valid.
  duration             = "{{ keyOrDefault "cfg/svc/geo/cache/duration" "2m" }}"
  # Allows the cache to gracefully rebuild by configuring a controlled cache miss during a given window.
	missWindow           = "{{ keyOrDefault "cfg/svc/geo/cache/missWindow" "30s" }}"
  # Percentage of cache hits that will be converted to controlled cache misses.
	missWindowPercentage = {{ keyOrDefault "cfg/svc/geo/cache/missWindowPercentage" "0.1" }}
  # Adds additional TTL to the Cache & allows stale cache to be used in case of service failure.
  staleDuration        = "{{ keyOrDefault "cfg/svc/geo/cache/staleDuration" "3h" }}"

[ESClientConfiguration]
  healthcheckTimeout    = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/health_check_timeout" "4" }}
  timeout               = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/timeout" "1" }}
  keepAlive             = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/keep_alive" "120" }}
  maxIdleConns          = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/max_idle_conns" "120" }}
  idleConnTimeout       = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/idle_conn_timeout" "120" }}
  tLSHandshakeTimeout   = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/tls_handshake_timeout" "30" }}
  expectContinueTimeout = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/expect_continue_timeout" "0" }}
  initialRetrierTimeout = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/initial_retrier_timeout" "500" }}
  pingTimeout           = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/ping_timeout" "10" }}
  retryTimes            = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/retry_times" "1" }}
  maxRetrierTimeout     = {{ keyOrDefault "cfg/svc/geo/esclientconfigration/max_retrier_timeout" "750" }}
  insecureSkipVerify    = false
